"use strict";(self.webpackChunkujep=self.webpackChunkujep||[]).push([[170],{2324:function(e,t,s){s.r(t),s.d(t,{Students:function(){return C}});var n=s(4664),a=s(2791),r=s(1087),c=s(4729),i=s(184),d=function(){return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:"col-auto",children:(0,i.jsx)("form",{children:(0,i.jsxs)("div",{className:"mb-2",children:[(0,i.jsx)("label",{htmlFor:"inputPassword2",className:"visually-hidden",children:"Search"}),(0,i.jsx)("input",{type:"search",className:"form-control",id:"inputPassword2",placeholder:"Search..."})]})})})})},l=s(4165),o=s(5861),u=s(9439),h=s(6960),m=s(2388),x=function(){var e=(0,o.Z)((0,l.Z)().mark((function e(t,s){var n,a;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.Z.delete("/".concat(t,"/").concat(s));case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",{status:404,message:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,s){return e.apply(this,arguments)}}(),j=function(e){var t=e.modalName,s=e.title,n=e.text,a=e.deleteButton;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:"action-icon","data-bs-toggle":"modal","data-bs-target":"#".concat(t),children:s}),(0,i.jsx)("div",{id:"".concat(t),className:"modal fade",tabIndex:-1,role:"dialog","aria-hidden":"true",children:(0,i.jsx)("div",{className:"modal-dialog dialog-centered modal-md backdrop",style:{marginTop:"140px"},children:(0,i.jsx)("div",{className:"modal-content modal-filled bg-danger",children:(0,i.jsx)("div",{className:"modal-body p-4",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("h4",{className:"mt-2 text-white",children:"Attention !"}),(0,i.jsx)("p",{style:{display:"block",fontWeight:"bold"},className:"mt-3 text-white",children:n}),a,"\xa0\xa0",(0,i.jsx)("button",{type:"button",className:"btn btn-light my-2","data-bs-dismiss":"modal",children:"Annuler"})]})})})})})]})},p=s(6320),b=s(2518),f=function(e){var t=e.id,s=(0,a.useState)(!1),n=(0,u.Z)(s,2),r=n[0],c=n[1],d=(0,a.useState)(!0),m=(0,u.Z)(d,2),f=m[0],g=m[1],v=(0,p.T)(),N=function(){var e=(0,o.Z)((0,l.Z)().mark((function e(){var s;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,x("students",t);case 3:404===(s=e.sent).status?(c(!1),h.Am.error(s.message)):(c(!1),g(!1),v((0,b.Yd)(s)),h.Am.success("Etudiant supprim\xe9 avec succ\xe8s"));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("button",{className:"btn btn-light",disabled:r,onClick:N,"data-bs-dismiss":"".concat(f&&"modal"),children:[(0,i.jsx)("span",{className:"".concat(r&&"spinner-border"," spinner-border-sm me-1"),role:"status","aria-hidden":"true"}),(0,i.jsxs)("b",{children:[" ",(0,i.jsx)("i",{className:"fa fa-trash"})," ",r?"Chargement...":"Supprimer"]})]})}),w=(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("span",{style:{color:"white",fontSize:"13px"},children:(0,i.jsx)("i",{className:"fa fa-trash"})})});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h.Ix,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),(0,i.jsx)(j,{modalName:"students".concat(t),title:w,text:"Voulez vous vraiment supprimer cet etudiant ?",deleteButton:y})]})},g=function(e){var t=e.students;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{className:"table-user",children:(0,i.jsxs)("span",{className:"text-body fw-semibold",children:[t.person.nom,"\xa0"]})}),(0,i.jsx)("td",{children:t.person.prenom}),(0,i.jsx)("td",{children:t.person.telephone}),(0,i.jsx)("td",{children:t.person.email}),(0,i.jsx)("td",{children:t.person.date_naissance}),(0,i.jsx)("td",{children:(0,i.jsxs)("div",{className:"dropdown",children:[(0,i.jsx)(r.rU,{to:"/dashbord/profile-students/".concat(t.person.uuid),children:(0,i.jsx)("button",{className:"btn btn-primary",type:"button",style:{fontWeight:"bold"},children:(0,i.jsx)("i",{className:"fa fa-user"})})})," ","\xa0",(0,i.jsx)("span",{}),(0,i.jsx)("button",{className:"btn btn-danger btn-xs",type:"button",style:{fontWeight:"bold"},children:(0,i.jsx)(f,{id:t.person.uuid})})]})})]})})},v=s(2958),N=function(e){(0,p.T)();var t=function(){var e=(0,o.Z)((0,l.Z)().mark((function e(t){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("p",{className:"justify-content-end mb-0 mt-2",children:["Page ",e.meta.CurrentPage," sur ",e.meta.lastPaginate," dans"," ",e.total," entr\xe9es"," "]}),(0,i.jsx)("p",{className:"justify-content-end mb-0 mt-2",style:{float:"right"},children:(0,i.jsx)(v.Z,{defaultCurrent:1,total:e.meta.total,onChange:t,pageSize:15,showSizeChanger:!1,itemRender:function(e,t,s){return"prev"===t?(0,i.jsx)("span",{style:{cursor:"pointer"},children:"Pr\xe9c\xe9dent"}):"next"===t?(0,i.jsx)("span",{style:{cursor:"pointer"},children:"Suivante"}):s}})})]})},y=s(2917),w=s(4277),Z=s(1461),F=function(){var e=(0,y.a)([w.Xn],(function(){return(0,c.RR)()})),t=e.data,s=e.isLoading;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:"row",children:(0,i.jsx)("div",{className:"col-lg-12",children:(0,i.jsx)("div",{className:"card",children:(0,i.jsxs)("div",{className:"card-body",children:[(0,i.jsxs)("div",{className:"row justify-content-between mb-2",children:[(0,i.jsx)(d,{}),(0,i.jsx)("div",{className:"col-sm-6",children:(0,i.jsx)("div",{className:" text-sm-end",children:(0,i.jsx)(r.rU,{to:"/dashbord/add-students",children:(0,i.jsxs)("button",{type:"button",className:"btn btn-primary","data-bs-target":"#custom-modal",children:[(0,i.jsx)("i",{className:"fa fa-plus"})," Ajouter etudiant"]})})})})]}),(0,i.jsxs)("div",{className:"table-responsive",children:[t&&t.meta.total," etudiants",(0,i.jsxs)("table",{className:"table table-centered table-nowrap table-hover mb-0",children:[t&&t.data.length>0&&(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Nom"}),(0,i.jsx)("th",{children:"Prenom"}),(0,i.jsx)("th",{children:"Telephone"}),(0,i.jsx)("th",{children:"Email"}),(0,i.jsx)("th",{children:" Date de naissance"}),(0,i.jsx)("th",{style:{width:82},children:"Action"})]})}),(0,i.jsx)("tbody",{children:s?(0,i.jsx)(Z.h,{}):(0,i.jsx)(i.Fragment,{children:t.data.map((function(e){return(0,i.jsx)(g,{students:e},e.id)}))})})]}),t&&0===t.data.length&&(0,i.jsxs)("div",{className:"row",children:[" ",(0,i.jsx)(n.Z,{})]})]}),t&&t.data.length>0&&(0,i.jsx)(N,{meta:t.meta,total:t.meta.total})]})})})})})},k=s(5699),C=function(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(k.d,{title:"Ajouter etudiant",img:"students"}),(0,i.jsx)(F,{})]})}},6320:function(e,t,s){s.d(t,{C:function(){return r},T:function(){return a}});var n=s(9434),a=n.I0,r=n.v9}}]);
//# sourceMappingURL=170.0b10a125.chunk.js.map