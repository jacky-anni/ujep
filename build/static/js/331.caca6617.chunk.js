"use strict";(self.webpackChunkujep=self.webpackChunkujep||[]).push([[331],{8786:function(e,n,r){r.d(n,{LM:function(){return i},lj:function(){return s},lw:function(){return a},mG:function(){return l},vh:function(){return o}});var t=r(2388),s=function(){return t.Z.get("/faculte").then((function(e){return e.data}))},i=function(e){return t.Z.post("/faculte",e).then((function(e){return e.data}))},a=function(e){return t.Z.delete("/faculte/".concat(e.id)).then((function(e){return e.data}))},o=function(e){return t.Z.get("/faculte/".concat(e)).then((function(e){return e.data}))},l=function(e,n){return t.Z.patch("/faculte/".concat(n),e).then((function(e){return e.data}))}},6331:function(e,n,r){r.r(n),r.d(n,{CreateFaculty:function(){return Z}});r(2791);var t=r(5699),s=r(1413),i=r(3433),a=r(4165),o=r(5861),l=r(3975),c=r(1134),u=r(2879),d=r(8786),m=r(6403),f=r(3418),p=r(5039),h=r(4570),v=r(4277),j=r(7689),x=r(232),g=r(184),b=function(){var e,n,r,t,b,Z,N,_,C,S,w,y,L=(0,c.cI)({resolver:(0,u.X)(x.Z)}),D=L.register,E=L.handleSubmit,k=L.reset,q=L.formState.errors,F=(0,m.NL)(),M=(0,j.s0)(),P=F.getQueryData([v.uP]),Q=(0,f.D)(function(){var e=(0,o.Z)((0,a.Z)().mark((function e(n){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.LM)(n);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),{onMutate:function(e){F.setQueryData([v.uP],(function(){return[e].concat((0,i.Z)(P))}))},onSuccess:function(e,n,r){(0,h.F)("success","Facult\xe9 enregistr\xe9 avec succ\xe8s"),F.invalidateQueries([v.uP]),k(),M("/dashbord/faculties")}}),A=Q.isLoading,G=Q.mutate,H=Q.error,I=Q.isError,O=(Q.isSuccess,H);return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("form",{onSubmit:E((function(e){G(e)})),children:[I&&(0,g.jsx)(p.Z,{variant:"filled",severity:"error",className:"mb-3",children:O.response.data.message}),(0,g.jsxs)("div",{className:"row",children:[(0,g.jsxs)("div",{className:"col-md-6 position-relative mb-2",children:[(0,g.jsx)("label",{children:"Entrer le nom facult\xe9"}),(0,g.jsx)("input",(0,s.Z)((0,s.Z)({},D("nom_faculte")),{},{className:"form-control"})),(0,g.jsx)("span",{className:"errors-field",children:null===(e=q.nom_faculte)||void 0===e||null===(n=e.message)||void 0===n?void 0:n.toString()})]}),(0,g.jsxs)("div",{className:"col-md-6 position-relative mb-2",children:[(0,g.jsx)("label",{children:"Entrer le niveau"}),(0,g.jsxs)("select",(0,s.Z)((0,s.Z)({},D("degree")),{},{className:"form-control",children:[(0,g.jsx)("option",{value:"",children:"Choisir une option"}),(0,g.jsx)("option",{value:"Certificat",children:"Certificat"}),(0,g.jsx)("option",{value:"Licence",children:"Licence"}),(0,g.jsx)("option",{value:"Maitrise",children:"Maitrise"}),(0,g.jsx)("option",{value:"Doctorat",children:"Doctorat"}),(0,g.jsx)("option",{value:"Post Doctorat",children:"Post Doctorat"})]})),(0,g.jsx)("span",{className:"errors-field",children:null===(r=q.degree)||void 0===r||null===(t=r.message)||void 0===t?void 0:t.toString()})]}),(0,g.jsxs)("div",{className:"col-md-6 position-relative mb-2",children:[(0,g.jsx)("label",{children:"Entrer la duree"}),(0,g.jsx)("input",(0,s.Z)((0,s.Z)({},D("duree")),{},{className:"form-control",type:"number"})),(0,g.jsx)("span",{className:"errors-field",children:null===(b=q.duree)||void 0===b||null===(Z=b.message)||void 0===Z?void 0:Z.toString()})]}),(0,g.jsxs)("div",{className:"col-md-6 position-relative mb-2",children:[(0,g.jsx)("label",{children:"Entrer la note de passage"}),(0,g.jsx)("input",(0,s.Z)((0,s.Z)({},D("note_de_passage")),{},{className:"form-control",type:"number"})),(0,g.jsx)("span",{className:"errors-field",children:null===(N=q.note_de_passage)||void 0===N||null===(_=N.message)||void 0===_?void 0:_.toString()})]}),(0,g.jsxs)("div",{className:"col-md-12 position-relative mb-2",children:[(0,g.jsx)("label",{children:"Entrer la nombre de matiere"}),(0,g.jsx)("input",(0,s.Z)((0,s.Z)({},D("nombre_matiere")),{},{className:"form-control",type:"number"})),(0,g.jsx)("span",{className:"errors-field",children:null===(C=q.nombre_matiere)||void 0===C||null===(S=C.message)||void 0===S?void 0:S.toString()})]}),(0,g.jsxs)("div",{className:"col-md-12 position-relative mb-2",children:[(0,g.jsx)("label",{children:"Entrer la description"}),(0,g.jsx)("textarea",(0,s.Z)((0,s.Z)({},D("description")),{},{className:"form-control"})),(0,g.jsx)("span",{className:"errors-field",children:null===(w=q.description)||void 0===w||null===(y=w.message)||void 0===y?void 0:y.toString()})]})]}),(0,g.jsx)(l.Z,{message:"Soumettre",loading:A}),(0,g.jsx)("button",{onClick:function(){return k()},className:"btn btn-danger",style:{fontWeight:"bold",marginLeft:"6px"},children:"Annuler"})]})})},Z=function(){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(t.d,{title:"Ajouter une facult\xe9",img:"users"}),(0,g.jsx)("div",{className:"bg-white",children:(0,g.jsx)("div",{className:"col-md-12 p-2",children:(0,g.jsx)(b,{})})})]})}},232:function(e,n,r){var t=r(1724),s=t.Ry().shape({email:t.Z_().email("L'email est invalide").required("Ce champ est obligatoire !"),username:t.Z_().required("Ce champ est obligatoire !"),role_name:t.Z_().required("Ce champ est obligatoire !"),password:t.Z_().required("Ce champ est obligatoire !").matches(/^(?=.{8,})/,"Le mot de passe doit contenir au moins 8 caract\xe8res"),password_confirm:t.Z_().required("Ce champ est obligatoire !").oneOf([t.iH("password"),null],"Les mots de passe ne sont pas iddentiques")});n.Z=s}}]);
//# sourceMappingURL=331.caca6617.chunk.js.map