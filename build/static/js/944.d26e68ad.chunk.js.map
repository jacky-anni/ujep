{"version":3,"file":"static/js/944.d26e68ad.chunk.js","mappings":"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","sources":["actions/FacultyActions.ts","components/faculties/Ui/FacultyLoading.tsx","shemaForms/ShemaFaculty.ts","components/faculties/Ui/EditFacultyForm.tsx","pages/faculties/EditFaculty.tsx"],"sourcesContent":["import axios from \"axios\";\r\nconst queryKey = \"faculties\";\r\n\r\nexport const GetFaculties = () => {\r\n  return axios.get(\"/faculte\").then((res) => res.data);\r\n};\r\n\r\nexport const CreateFaculty = (values: any) => {\r\n  return axios.post(\"/faculte\", values).then((res) => res.data);\r\n};\r\n\r\nexport const DeleteFaculty = (values: any) => {\r\n  return axios.delete(`/faculte/${values.id}`).then((res) => res.data);\r\n};\r\n\r\nexport const GetFaculty = (id: any) => {\r\n  return axios.get(`/faculte/${id}`).then((res) => res.data);\r\n};\r\n\r\n// updata faculty\r\nexport const UpdateFaculty = (values: any, id: number) => {\r\n  return axios.patch(`/faculte/${id}`, values).then((res) => res.data);\r\n};\r\n","import React from \"react\";\r\nimport { Audio } from \"react-loader-spinner\";\r\nexport const FacultyLoading = () => {\r\n  return (\r\n    <>\r\n      <center>\r\n        <p style={{ padding: \"10px\" }}>\r\n          <Audio\r\n            height='90'\r\n            width='90'\r\n            color='#7d56c2'\r\n            ariaLabel='audio-loading'\r\n            wrapperClass='wrapper-class'\r\n            wrapperStyle={{ display: \"block\" }}\r\n            visible={true}\r\n          />\r\n          <h6>Chargment en cours...</h6>\r\n        </p>\r\n      </center>\r\n    </>\r\n  );\r\n};\r\n","import * as yup from \"yup\";\r\n\r\nconst validationSchema = yup.object().shape({\r\n  nom_faculte: yup.string().required(\"Ce champ est obligatoire !\"),\r\n  degree: yup.string().required(\"Ce champ est obligatoire !\"),\r\n  duree: yup\r\n    .number()\r\n    .typeError(\"vous devez spécifier un nombre\")\r\n    .min(1, \"Valeur minimale 1\")\r\n    .max(7, \"Valeur maximale 7\")\r\n    .required(\"Ce champ est obligatoire !\"),\r\n\r\n  note_de_passage: yup\r\n    .number()\r\n    .typeError(\"vous devez spécifier un nombre\")\r\n    .min(60, \"Valeur minimale 60\")\r\n    .max(100, \"Valeur maximale 100\")\r\n    .required(\"Ce champ est obligatoire !\"),\r\n  nombre_matiere: yup\r\n    .number()\r\n    .typeError(\"vous devez spécifier un nombre\")\r\n    .min(1, \"Valeur minimale 1\")\r\n    .required(\"Ce champ est obligatoire !\"),\r\n  description: yup\r\n    .string()\r\n    .required(\"Ce champ est obligatoire !\")\r\n    .max(250, \"Valeur maximale 100\"),\r\n});\r\n\r\nexport default validationSchema;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport SubmitButtom from \"../../Ui/form/SubmitButtom\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { Divider } from \"antd\";\r\nimport validationSchema from \"../../../shemaForms/ShemaFaculty\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport {\r\n  CreateFaculty,\r\n  GetFaculties,\r\n  UpdateFaculty,\r\n} from \"../../../actions/FacultyActions\";\r\nimport { useMutation, useQuery, useQueryClient } from \"@tanstack/react-query\";\r\nimport { Alert } from \"@mui/material\";\r\nimport { Toast } from \"../../layout/Toast\";\r\nimport { FacultyKey } from \"../../../ultils/keys\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nexport const EditFacultyForm = ({ faculty }: any) => {\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    reset,\r\n    formState: { errors },\r\n  } = useForm({\r\n    resolver: yupResolver(validationSchema),\r\n    defaultValues: {\r\n      nom_faculte: faculty?.nom_faculte,\r\n      degree:\r\n        faculty?.degree.charAt(0).toUpperCase() + faculty?.degree.slice(1),\r\n      duree: faculty?.duree,\r\n      note_de_passage: faculty?.note_de_passage,\r\n      nombre_matiere: faculty?.nombre_matiere,\r\n      description: faculty?.description,\r\n    },\r\n  });\r\n\r\n  // define query client\r\n  const queryClient = useQueryClient();\r\n  // get all faculties\r\n  const { data } = useQuery([FacultyKey], GetFaculties);\r\n  // initialize navigate\r\n  const navigate = useNavigate();\r\n  // create mutation\r\n  const { isLoading, mutate, error, isError } = useMutation(\r\n    async (values) => {\r\n      await UpdateFaculty(values, faculty.id);\r\n    },\r\n    {\r\n      onMutate: (result: any) => {\r\n        return queryClient.setQueryData([FacultyKey], () =>\r\n          data.map((faculty: any) =>\r\n            faculty.id === result.id ? result : faculty\r\n          )\r\n        );\r\n      },\r\n      onSuccess: (result) => {\r\n        Toast(\"success\", \"Faculté enregistré avec succès\");\r\n        queryClient.invalidateQueries([FacultyKey]);\r\n        navigate(`/dashbord/faculty/${faculty.id}`);\r\n        // reset();\r\n      },\r\n    }\r\n  );\r\n\r\n  // define error\r\n  const err: any = error;\r\n  // submit form\r\n  const onSubmit = (data: any) => {\r\n    mutate(data);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <form onSubmit={handleSubmit(onSubmit)}>\r\n        {isError && (\r\n          <Alert variant='filled' severity='error' className='mb-3'>\r\n            Une erreur s’est produite lors de la modification de cette faculté\r\n            {/* {err.response.data.message} */}\r\n          </Alert>\r\n        )}\r\n        <div className='row'>\r\n          <div className='col-md-6 position-relative mb-2'>\r\n            <label>Entrer le nom faculte</label>\r\n            <input {...register(\"nom_faculte\")} className='form-control' />\r\n\r\n            <span className='errors-field'>\r\n              {errors.nom_faculte?.message?.toString()}\r\n            </span>\r\n          </div>\r\n\r\n          <div className='col-md-6 position-relative mb-2'>\r\n            <label>Entrer le niveau</label>\r\n            <select {...register(\"degree\")} className='form-control'>\r\n              <option value=''>Choisir une option</option>\r\n              <option value='Certificat'>Certificat</option>\r\n              <option value='Licence'>Licence</option>\r\n              <option value='Maitrise'>Maitrise</option>\r\n              <option value='Doctorat'>Doctorat</option>\r\n              <option value='Post Doctorat'>Post Doctorat</option>\r\n            </select>\r\n            <span className='errors-field'>\r\n              {errors.degree?.message?.toString()}\r\n            </span>\r\n          </div>\r\n\r\n          <div className='col-md-6 position-relative mb-2'>\r\n            <label>Entrer la duree</label>\r\n            <input\r\n              {...register(\"duree\")}\r\n              className='form-control'\r\n              type='number'\r\n            />\r\n            <span className='errors-field'>\r\n              {errors.duree?.message?.toString()}\r\n            </span>\r\n          </div>\r\n\r\n          <div className='col-md-6 position-relative mb-2'>\r\n            <label>Entrer la note de passage</label>\r\n            <input\r\n              {...register(\"note_de_passage\")}\r\n              className='form-control'\r\n              type='number'\r\n            />\r\n            <span className='errors-field'>\r\n              {errors.note_de_passage?.message?.toString()}\r\n            </span>\r\n          </div>\r\n\r\n          <div className='col-md-12 position-relative mb-2'>\r\n            <label>Entrer la nombre de matiere</label>\r\n            <input\r\n              {...register(\"nombre_matiere\")}\r\n              className='form-control'\r\n              type='number'\r\n            />\r\n            <span className='errors-field'>\r\n              {errors.nombre_matiere?.message?.toString()}\r\n            </span>\r\n          </div>\r\n\r\n          <div className='col-md-12 position-relative mb-2'>\r\n            <label>Entrer la description</label>\r\n            <textarea\r\n              {...register(\"description\")}\r\n              className='form-control'\r\n            ></textarea>\r\n            <span className='errors-field'>\r\n              {errors.description?.message?.toString()}\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <SubmitButtom message={\"Soumettre\"} loading={isLoading} />\r\n        <button\r\n          onClick={() => reset()}\r\n          className='btn btn-danger'\r\n          style={{ fontWeight: \"bold\", marginLeft: \"6px\" }}\r\n        >\r\n          Annuler\r\n        </button>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n","import { useQuery } from \"@tanstack/react-query\";\r\nimport React from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { GetFaculty } from \"../../actions/FacultyActions\";\r\nimport { EditFacultyForm } from \"../../components/faculties/Ui/EditFacultyForm\";\r\nimport { FacultyLoading } from \"../../components/faculties/Ui/FacultyLoading\";\r\nimport { AppTitle } from \"../../components/partials/AppTitle\";\r\nimport { FacultyKey } from \"../../ultils/keys\";\r\nimport { NotFoundTemplate } from \"./../../components/layout/NotFoundTemplate\";\r\n\r\nexport const EditFaculty = () => {\r\n  const { idFaculty } = useParams();\r\n  const { data, isLoading, isError, error } = useQuery(\r\n    [FacultyKey, idFaculty],\r\n    () => GetFaculty(idFaculty),\r\n    {\r\n      cacheTime: 0,\r\n    }\r\n  );\r\n\r\n  const err: any = error;\r\n\r\n  return (\r\n    <>\r\n      <AppTitle title={\"Modifier cette faculté\"} img={\"users\"} />\r\n      <div className='bg-white'>\r\n        <div className='col-md-12 p-2'>\r\n          {isLoading ? (\r\n            <FacultyLoading />\r\n          ) : isError ? (\r\n            <NotFoundTemplate message={err.response.data.message} />\r\n          ) : (\r\n            <EditFacultyForm faculty={data} />\r\n          )}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n"],"names":["GetFaculties","axios","then","res","data","CreateFaculty","values","DeleteFaculty","id","GetFaculty","UpdateFaculty","FacultyLoading","style","padding","height","width","color","ariaLabel","wrapperClass","wrapperStyle","display","visible","yup","shape","nom_faculte","required","degree","duree","typeError","min","max","note_de_passage","nombre_matiere","description","EditFacultyForm","faculty","useForm","resolver","yupResolver","validationSchema","defaultValues","charAt","toUpperCase","slice","register","handleSubmit","reset","errors","formState","queryClient","useQueryClient","useQuery","FacultyKey","navigate","useNavigate","useMutation","onMutate","result","setQueryData","map","onSuccess","Toast","invalidateQueries","isLoading","mutate","isError","error","onSubmit","Alert","variant","severity","className","message","toString","value","type","SubmitButtom","loading","onClick","fontWeight","marginLeft","EditFaculty","idFaculty","useParams","cacheTime","err","AppTitle","title","img","NotFoundTemplate","response"],"sourceRoot":""}