"use strict";(self.webpackChunkujep=self.webpackChunkujep||[]).push([[890],{1529:function(e,r,n){n.d(r,{Zz:function(){return t},ak:function(){return c},to:function(){return l},xk:function(){return o}});var i=n(4165),s=n(5861),a=n(2388),t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return a.Z.get("/employees?page=".concat(e)).then((function(e){return e.data}))},o=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(r){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.Z.post("employees",r).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),l=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(r,n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.Z.patch("/employees/".concat(r),n).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}(),c=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(r){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.Z.get("/employees/".concat(r)).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()},9145:function(e,r,n){n.d(r,{t:function(){return a}});n(2791);var i=n(745),s=n(184),a=function(){return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("center",{children:[(0,s.jsx)(i.g4,{height:"90",width:"90",radius:"9",color:"#7d56c2",ariaLabel:"three-dots-loading",wrapperStyle:{display:"block"},visible:!0}),(0,s.jsx)("p",{style:{marginTop:"-30px"},children:"Chargment en cours..."})]})})}},1890:function(e,r,n){n.r(r),n.d(r,{EditEmpoyee:function(){return y}});n(2791);var i=n(5699),s=n(1529),a=n(1413),t=n(4165),o=n(5861),l=n(2879),c=n(5039),d=n(6403),u=n(2917),m=n(3418),p=n(1134),v=n(7689),h=n(4740),f=n(4277),x=n(4570),j=n(3975),b=n(184),g=function(e){var r,n,i,g,Z,N,y,w,S,_,E,k,C,q,F,L,z,T,M=e.employee,D=(0,p.cI)({resolver:(0,l.X)(h.Z),defaultValues:{nom:null===M||void 0===M?void 0:M.person.nom,prenom:null===M||void 0===M?void 0:M.person.prenom,sexe:null===M||void 0===M?void 0:M.person.sexe,email:null===M||void 0===M?void 0:M.person.email,telephone:null===M||void 0===M?void 0:M.person.date_naissance,fonction:null===M||void 0===M?void 0:M.fonction,date_naissance:null===M||void 0===M?void 0:M.person.date_naissance,date_embauche:null===M||void 0===M?void 0:M.date_embauche,salaire:null===M||void 0===M?void 0:M.salaire}}),Q=D.register,R=D.handleSubmit,A=(D.reset,D.formState.errors),I=(0,d.NL)(),J=((0,v.s0)(),(0,u.a)([f.bN],(function(){return(0,s.Zz)()})).data),K=(0,m.D)(function(){var e=(0,o.Z)((0,t.Z)().mark((function e(r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.to)(M.person.uuid,r);case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),{onMutate:function(e){return I.setQueryData([f.bN],(function(){return J&&J.data.map((function(r){return r.id===r.id?e:r}))}))},onSuccess:function(e,r,n){(0,x.F)("success","Facult\xe9 enregistr\xe9 avec succ\xe8s"),I.invalidateQueries([f.bN])}}),O=K.isLoading,P=K.mutate,U=K.error,V=K.isError,X=(K.isSuccess,U);console.log(X);return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("form",{onSubmit:R((function(e){P(e)})),children:[V&&(0,b.jsx)(c.Z,{variant:"filled",severity:"error",className:"mb-3",children:X&&X.response.data.message||"Probleme avec la modification"}),(0,b.jsxs)("div",{className:"row",children:[(0,b.jsxs)("div",{className:"col-md-6 position-relative mb-2",children:[(0,b.jsx)("label",{children:"Entrer le nom"}),(0,b.jsx)("input",(0,a.Z)((0,a.Z)({className:"form-control "},Q("nom")),{},{placeholder:"Jacky"})),(0,b.jsx)("span",{className:"errors-field",children:null===(r=A.nom)||void 0===r||null===(n=r.message)||void 0===n?void 0:n.toString()})]}),(0,b.jsxs)("div",{className:"col-md-6 position-relative mb-2",children:[(0,b.jsx)("label",{children:"Entrer le prenom"}),(0,b.jsx)("input",(0,a.Z)((0,a.Z)({className:"form-control "},Q("prenom")),{},{placeholder:"Anizaire"})),(0,b.jsx)("span",{className:"errors-field",children:null===(i=A.prenom)||void 0===i||null===(g=i.message)||void 0===g?void 0:g.toString()})]})]}),(0,b.jsxs)("div",{className:"row",children:[(0,b.jsxs)("div",{className:"col-md-6 position-relative mb-2",children:[(0,b.jsx)("label",{children:"Entrer le sexe"}),(0,b.jsxs)("select",(0,a.Z)((0,a.Z)({className:"form-control"},Q("sexe")),{},{children:[(0,b.jsx)("option",{value:"",children:"Choisir une option"}),(0,b.jsx)("option",{value:"masculin",children:"Masculin"}),(0,b.jsx)("option",{value:"feminin",children:"Feminin"})]})),(0,b.jsx)("span",{className:"errors-field",children:null===(Z=A.sexe)||void 0===Z||null===(N=Z.message)||void 0===N?void 0:N.toString()})]}),(0,b.jsxs)("div",{className:"col-md-6 position-relative mb-2",children:[(0,b.jsx)("label",{children:"Entrer l'email"}),(0,b.jsx)("input",(0,a.Z)((0,a.Z)({className:"form-control "},Q("email")),{},{placeholder:"anizairejacky@gmail.com"})),(0,b.jsx)("span",{className:"errors-field",children:null===(y=A.email)||void 0===y||null===(w=y.message)||void 0===w?void 0:w.toString()})]})]}),(0,b.jsxs)("div",{className:"row",children:[(0,b.jsxs)("div",{className:"col-md-6 position-relative mb-2",children:[(0,b.jsx)("label",{children:"Entrer le telephone"}),(0,b.jsx)("input",(0,a.Z)((0,a.Z)({className:"form-control"},Q("telephone")),{},{placeholder:"+509 3454 34 32"})),(0,b.jsx)("span",{className:"errors-field",children:null===(S=A.telephone)||void 0===S||null===(_=S.message)||void 0===_?void 0:_.toString()})]}),(0,b.jsxs)("div",{className:"col-md-6 position-relative mb-2",children:[(0,b.jsx)("label",{children:"Entrer la date de naissance"}),(0,b.jsx)("input",(0,a.Z)((0,a.Z)({className:"form-control "},Q("date_naissance")),{},{placeholder:"",type:"date"})),(0,b.jsx)("span",{className:"errors-field",children:null===(E=A.date_naissance)||void 0===E||null===(k=E.message)||void 0===k?void 0:k.toString()})]})]}),(0,b.jsxs)("div",{className:"row",children:[(0,b.jsxs)("div",{className:"col-md-6 position-relative mb-2",children:[(0,b.jsx)("label",{children:"Entrer la fonction"}),(0,b.jsx)("input",(0,a.Z)((0,a.Z)({className:"form-control "},Q("fonction")),{},{placeholder:"Secretaire"})),(0,b.jsx)("span",{className:"errors-field",children:null===(C=A.fonction)||void 0===C||null===(q=C.message)||void 0===q?void 0:q.toString()})]}),(0,b.jsxs)("div",{className:"col-md-6 position-relative mb-2",children:[(0,b.jsx)("label",{children:"Entrer la date d'embauche"}),(0,b.jsx)("input",(0,a.Z)((0,a.Z)({className:"form-control "},Q("date_embauche")),{},{type:"date",placeholder:""})),(0,b.jsx)("span",{className:"errors-field",children:null===(F=A.date_embauche)||void 0===F||null===(L=F.message)||void 0===L?void 0:L.toString()})]})]}),(0,b.jsx)("div",{className:"row",children:(0,b.jsxs)("div",{className:"col-md-12 position-relative mb-2",children:[(0,b.jsx)("label",{children:"Entrer le salaire"}),(0,b.jsx)("input",(0,a.Z)((0,a.Z)({className:"form-control"},Q("salaire")),{},{placeholder:"200"})),(0,b.jsx)("span",{className:"errors-field",children:null===(z=A.salaire)||void 0===z||null===(T=z.message)||void 0===T?void 0:T.toString()})]})}),(0,b.jsx)(j.Z,{message:"Soumettre",loading:O})]})})},Z=n(9375),N=n(9145),y=function(){var e=(0,v.UO)().id,r=(0,u.a)([f.bN,e],(function(){return(0,s.ak)(e)}),{cacheTime:0}),n=r.data,a=r.isLoading,t=r.isError,o=r.error;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i.d,{title:"Modifier cet employee"}),(0,b.jsx)("div",{className:"row",children:(0,b.jsx)("div",{className:"col-lg-12",children:(0,b.jsx)("div",{className:"card",children:(0,b.jsx)("div",{className:"card-body",children:a?(0,b.jsx)(N.t,{}):t?(0,b.jsx)(Z.K,{message:o.response.data.message}):(0,b.jsx)(g,{employee:n})})})})})]})}},4740:function(e,r,n){var i=n(1724),s=i.Ry().shape({nom:i.Z_().required("Ce champ est obligatoire !"),prenom:i.Z_().required("Ce champ est obligatoire !"),sexe:i.Z_().required("Ce champ est obligatoire !"),email:i.Z_().email("L'email est invalide").required("Ce champ est obligatoire !"),telephone:i.Z_().required("Ce champ est obligatoire !"),date_naissance:i.hT().required("Cette date n'est pas valide!").typeError("Cette date n'est pas valide"),fonction:i.Z_().required("Ce champ est obligatoire !"),date_embauche:i.hT().required("Cette date n'est pas valide !").typeError("Cette date n'est pas valide"),salaire:i.Rx().min(0,"La note ne doit pas \xeatre inferieur \xe0 0").typeError("vous devez sp\xe9cifier un nombre")});r.Z=s}}]);
//# sourceMappingURL=890.e9521952.chunk.js.map