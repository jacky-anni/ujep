{"version":3,"file":"static/js/422.3be0cf8d.chunk.js","mappings":"oVAYaA,EAAqB,WAAO,IAAD,wCACtC,GAKIC,EAAAA,EAAAA,IAAQ,CACVC,UAAUC,EAAAA,EAAAA,GAAYC,EAAAA,KALtBC,EAAQ,EAARA,SACAC,EAAY,EAAZA,aACAC,EAAK,EAALA,MACaC,EAAM,EAAnBC,UAAaD,OAKTE,GAAWC,EAAAA,EAAAA,MAEXC,GAAcC,EAAAA,EAAAA,MAINC,GAAaC,EAAAA,EAAAA,GAAS,CAACC,EAAAA,KAAa,kBAAMC,EAAAA,EAAAA,KAAa,IAA7DC,KAER,GAA+DC,EAAAA,EAAAA,GAAW,yCACxE,WAAOC,GAAM,6FACYC,EAAAA,EAAAA,IAAYD,GAAQ,KAAD,EAA5B,OAARE,EAAQ,yBACPA,GAAQ,2CAChB,mDAJuE,GAKxE,CACEC,SAAU,SAACC,GAETZ,EAAYa,aAAa,CAACT,EAAAA,KAAa,kBACrCQ,GAAM,eACHV,EAASI,MAAI,GAEpB,EACAQ,UAAW,SAACF,IACVG,EAAAA,EAAAA,GAAM,UAAW,2CACjBf,EAAYgB,kBAAkB,CAACZ,EAAAA,KAC/BT,IACAG,EAAS,gCAAD,OAAiCc,EAAOK,OAAOC,MACzD,IAlBUC,GAAF,EAAJb,KAAe,EAATa,WAAWC,EAAM,EAANA,OAAQC,EAAK,EAALA,MAAOC,EAAO,EAAPA,QAuBlCC,GAvBoD,EAATC,UAuBhCH,GAOjB,OACE,+BACE,kBAAMI,SAAU/B,GANH,SAACY,GAChBc,EAAOd,EACT,IAI2C,UACpCgB,IACC,SAACI,EAAA,EAAK,CAACC,QAAQ,SAASC,SAAS,QAAQC,UAAU,OAAM,SACtDN,EAAIb,SAASJ,KAAKwB,WAGvB,iBAAKD,UAAU,MAAK,WAClB,iBAAKA,UAAU,kCAAiC,WAC9C,8CACA,oCACMpC,EAAS,QAAM,IACnBoC,UAAU,gBACVE,YAAY,eAGd,iBAAMF,UAAU,eAAc,SACjB,QADiB,EAC3BjC,EAAOoC,WAAG,OAAS,QAAT,EAAV,EAAYF,eAAO,WAAT,EAAV,EAAqBG,iBAI1B,iBAAKJ,UAAU,kCAAiC,WAC9C,iDACA,oCACMpC,EAAS,WAAS,IACtBoC,UAAU,gBACVE,YAAY,eAGd,iBAAMF,UAAU,eAAc,SACd,QADc,EAC3BjC,EAAOsC,cAAM,OAAS,QAAT,EAAb,EAAeJ,eAAO,WAAT,EAAb,EAAwBG,oBAK/B,iBAAKJ,UAAU,MAAK,WAClB,iBAAKA,UAAU,kCAAiC,WAC9C,+CACA,oCAAQA,UAAU,gBAAmBpC,EAAS,SAAO,eACnD,mBAAQ0C,MAAM,GAAE,iCAChB,mBAAQA,MAAO,WAAW,uBAC1B,mBAAQA,MAAO,UAAU,0BAG3B,iBAAMN,UAAU,eAAc,SAChB,QADgB,EAC3BjC,EAAOwC,YAAI,OAAS,QAAT,EAAX,EAAaN,eAAO,WAAT,EAAX,EAAsBG,iBAI3B,iBAAKJ,UAAU,kCAAiC,WAC9C,+CACA,oCACMpC,EAAS,UAAQ,IACrBoC,UAAU,gBACVE,YAAY,8BAGd,iBAAMF,UAAU,eAAc,SACf,QADe,EAC3BjC,EAAOyC,aAAK,OAAS,QAAT,EAAZ,EAAcP,eAAO,WAAT,EAAZ,EAAuBG,oBAK9B,iBAAKJ,UAAU,MAAK,WAClB,iBAAKA,UAAU,kCAAiC,WAC9C,oDACA,kCACEA,UAAU,iBACNpC,EAAS,cAAY,IACzBsC,YAAY,sBAGd,iBAAMF,UAAU,eAAc,SACX,QADW,EAC3BjC,EAAO0C,iBAAS,OAAS,QAAT,EAAhB,EAAkBR,eAAO,WAAT,EAAhB,EAA2BG,iBAIhC,iBAAKJ,UAAU,kCAAiC,WAC9C,4DACA,kCACEA,UAAU,iBACNpC,EAAS,mBAAiB,IAC9BsC,YAAY,GACZQ,KAAK,WAGP,iBAAMV,UAAU,eAAc,SACN,QADM,EAC3BjC,EAAO4C,sBAAc,OAAS,QAAT,EAArB,EAAuBV,eAAO,WAAT,EAArB,EAAgCG,oBAKvC,iBAAKJ,UAAU,MAAK,WAClB,iBAAKA,UAAU,kCAAiC,WAC9C,kDACA,kCACEA,UAAU,iBACNpC,EAAS,mBAAiB,IAC9BsC,YAAY,kBAGd,iBAAMF,UAAU,eAAc,SACN,QADM,EAC3BjC,EAAO6C,sBAAc,OAAS,QAAT,EAArB,EAAuBX,eAAO,WAAT,EAArB,EAAgCG,iBAIrC,iBAAKJ,UAAU,kCAAiC,WAC9C,+CACA,oCAAQA,UAAU,gBAAmBpC,EAAS,mBAAiB,eAC7D,mBAAQ0C,MAAM,GAAE,iCAChB,mBAAQA,MAAO,KAAK,iBACpB,mBAAQA,MAAO,KAAK,iBACpB,mBAAQA,MAAO,KAAK,iBACpB,mBAAQA,MAAO,KAAK,iBACpB,mBAAQA,MAAO,KAAK,kBACpB,mBAAQA,MAAO,KAAK,iBACpB,mBAAQA,MAAO,MAAM,kBACrB,mBAAQA,MAAO,MAAM,sBAGvB,iBAAMN,UAAU,eAAc,SACN,QADM,EAC3BjC,EAAO8C,sBAAc,OAAS,QAAT,EAArB,EAAuBZ,eAAO,WAAT,EAArB,EAAgCG,oBAKvC,iBAAKJ,UAAU,MAAK,WAClB,iBAAKA,UAAU,kCAAiC,WAC9C,iDACA,oCACEA,UAAU,gBACNpC,EAAS,uBAAqB,eAElC,mBAAQ0C,MAAM,GAAE,iCAChB,mBAAQA,MAAO,iBAAc,6BAC7B,mBAAQA,MAAO,eAAY,2BAC3B,mBAAQA,MAAO,gBAAa,4BAC5B,mBAAQA,MAAO,cAAc,8BAG/B,iBAAMN,UAAU,eAAc,SACF,QADE,EAC3BjC,EAAO+C,0BAAkB,OAAS,QAAT,EAAzB,EAA2Bb,eAAO,WAAT,EAAzB,EAAoCG,iBAIzC,iBAAKJ,UAAU,kCAAiC,WAC9C,8CACA,kCACEA,UAAU,iBACNpC,EAAS,QAAM,IACnBsC,YAAY,kBAGd,0BACEQ,KAAK,SACLJ,MAAM,aACNN,UAAU,iBACNpC,EAAS,UAGf,iBAAMoC,UAAU,eAAc,SACjB,QADiB,EAC3BjC,EAAOgD,WAAG,OAAS,QAAT,EAAV,EAAYd,eAAO,WAAT,EAAV,EAAqBG,oBAK5B,SAACY,EAAA,EAAY,CAACf,QAAS,YAAagB,QAAS3B,KAC7C,mBACE4B,QAAS,kBAAMpD,GAAO,EACtBkC,UAAU,iBACVmB,MAAO,CAAEC,WAAY,OAAQC,WAAY,OAAQ,yBAO3D,EC1OaC,EAAiB,WAC5B,OACE,iCACE,SAACC,EAAA,EAAQ,CAACC,MAAO,iCAA+BC,IAAK,WACrD,gBAAKzB,UAAU,WAAU,UACvB,gBAAKA,UAAU,gBAAe,UAC5B,SAACzC,EAAkB,UAK7B,C,qCCZMmE,EAAU,IAAIC,KACpBD,EAAQE,YAAYF,EAAQG,cAAgB,IAE5C,IAAMlE,EAA6BmE,EAAAA,KAAaC,MAAM,CACpD5B,IAAK2B,EAAAA,KAAaE,SAAS,8BAC3B3B,OAAQyB,EAAAA,KAAaE,SAAS,8BAC9BzB,KAAMuB,EAAAA,KAAaE,SAAS,8BAC5BxB,MAAOsB,EAAAA,KAEJtB,MAAM,wBACNwB,SAAS,8BACZvB,UAAWqB,EAAAA,KAAaE,SAAS,8BACjCrB,eAAgBmB,EAAAA,KAEbG,UAAU,2BACVD,SAAS,gCACTE,IAAIR,EAAS,oCAChBd,eAAgBkB,EAAAA,KAAaE,SAAS,8BACtCnB,eAAgBiB,EAAAA,KAAaE,SAAS,8BACtClB,mBAAoBgB,EAAAA,KAAaE,SAAS,8BAC1CjB,IAAKe,EAAAA,KAAaE,SAAS,gCAG7B,K","sources":["components/students/CreateStudentsForm.tsx","pages/students/CreateStudents.tsx","shemaForms/students/CreateAndEditShema.ts"],"sourcesContent":["import { useNavigate } from \"react-router-dom\";\r\nimport SubmitButtom from \"../Ui/form/SubmitButtom\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport { AddStudents, GetStudents } from \"../../actions/StudentAction\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport CreateAndEditShemaStudents from \"../../shemaForms/students/CreateAndEditShema\";\r\nimport { useMutation, useQuery, useQueryClient } from \"@tanstack/react-query\";\r\nimport { StudentKey } from \"../../ultils/keys\";\r\nimport { Toast } from \"../layout/Toast\";\r\nimport Alert from \"@mui/material/Alert\";\r\n\r\nexport const CreateStudentsForm = () => {\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    reset,\r\n    formState: { errors },\r\n  } = useForm({\r\n    resolver: yupResolver(CreateAndEditShemaStudents),\r\n  });\r\n\r\n  const navigate = useNavigate();\r\n  // initialize query client\r\n  const queryClient = useQueryClient();\r\n  // create navigate\r\n  //const navigate = useNavigate();\r\n  // select the students list\r\n  const { data: students } = useQuery([StudentKey], () => GetStudents());\r\n\r\n  const { data, isLoading, mutate, error, isError, isSuccess } = useMutation(\r\n    async (values) => {\r\n      const response = await AddStudents(values);\r\n      return response;\r\n    },\r\n    {\r\n      onMutate: (result) => {\r\n        //Update the cache with the new user\r\n        queryClient.setQueryData([StudentKey], () => [\r\n          result,\r\n          ...students.data,\r\n        ]);\r\n      },\r\n      onSuccess: (result) => {\r\n        Toast(\"success\", \"Faculté enregistré avec succès\");\r\n        queryClient.invalidateQueries([StudentKey]);\r\n        reset();\r\n        navigate(`/dashbord/add-students-infos/${result.person.uuid}`);\r\n      },\r\n    }\r\n  );\r\n\r\n  // define error\r\n  const err: any = error;\r\n\r\n  // on submit function\r\n  const onSubmit = (data: any) => {\r\n    mutate(data);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <form onSubmit={handleSubmit(onSubmit)}>\r\n        {isError && (\r\n          <Alert variant='filled' severity='error' className='mb-3'>\r\n            {err.response.data.message}\r\n          </Alert>\r\n        )}\r\n        <div className='row'>\r\n          <div className='col-md-6 position-relative mb-2'>\r\n            <label>Entrer le nom</label>\r\n            <input\r\n              {...register(\"nom\")}\r\n              className='form-control '\r\n              placeholder='Anizaire'\r\n            />\r\n\r\n            <span className='errors-field'>\r\n              {errors.nom?.message?.toString()}\r\n            </span>\r\n          </div>\r\n\r\n          <div className='col-md-6 position-relative mb-2'>\r\n            <label>Entrer le prenom</label>\r\n            <input\r\n              {...register(\"prenom\")}\r\n              className='form-control '\r\n              placeholder='Anizaire'\r\n            />\r\n\r\n            <span className='errors-field'>\r\n              {errors.prenom?.message?.toString()}\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        <div className='row'>\r\n          <div className='col-md-6 position-relative mb-2'>\r\n            <label>Entrer le sexe</label>\r\n            <select className='form-control' {...register(\"sexe\")}>\r\n              <option value=''>Choisir une option</option>\r\n              <option value={\"masculin\"}>Masculin</option>\r\n              <option value={\"feminin\"}>Feminin</option>\r\n            </select>\r\n\r\n            <span className='errors-field'>\r\n              {errors.sexe?.message?.toString()}\r\n            </span>\r\n          </div>\r\n\r\n          <div className='col-md-6 position-relative mb-2'>\r\n            <label>Entrer l'email</label>\r\n            <input\r\n              {...register(\"email\")}\r\n              className='form-control '\r\n              placeholder='anizairejacky@gmail.com'\r\n            />\r\n\r\n            <span className='errors-field'>\r\n              {errors.email?.message?.toString()}\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        <div className='row'>\r\n          <div className='col-md-6 position-relative mb-2'>\r\n            <label>Entrer le telephone</label>\r\n            <input\r\n              className='form-control '\r\n              {...register(\"telephone\")}\r\n              placeholder='+509 3454 34 32'\r\n            />\r\n\r\n            <span className='errors-field'>\r\n              {errors.telephone?.message?.toString()}\r\n            </span>\r\n          </div>\r\n\r\n          <div className='col-md-6 position-relative mb-2'>\r\n            <label>Entrer la date de naissance</label>\r\n            <input\r\n              className='form-control '\r\n              {...register(\"date_naissance\")}\r\n              placeholder=''\r\n              type='date'\r\n            />\r\n\r\n            <span className='errors-field'>\r\n              {errors.date_naissance?.message?.toString()}\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        <div className='row'>\r\n          <div className='col-md-6 position-relative mb-2'>\r\n            <label>Lieu de naissance</label>\r\n            <input\r\n              className='form-control '\r\n              {...register(\"lieu_naissance\")}\r\n              placeholder='Port-Margot'\r\n            />\r\n\r\n            <span className='errors-field'>\r\n              {errors.lieu_naissance?.message?.toString()}\r\n            </span>\r\n          </div>\r\n\r\n          <div className='col-md-6 position-relative mb-2'>\r\n            <label>Groupe sanguin</label>\r\n            <select className='form-control' {...register(\"groupe_sanguin\")}>\r\n              <option value=''>Choisir une option</option>\r\n              <option value={\"O+\"}>O+</option>\r\n              <option value={\"O-\"}>O-</option>\r\n              <option value={\"A+\"}>A+</option>\r\n              <option value={\"A-\"}>A-</option>\r\n              <option value={\"B+\"}>B++</option>\r\n              <option value={\"B-\"}>B-</option>\r\n              <option value={\"AB+\"}>AB+</option>\r\n              <option value={\"AB-\"}>AB-</option>\r\n            </select>\r\n\r\n            <span className='errors-field'>\r\n              {errors.groupe_sanguin?.message?.toString()}\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        <div className='row'>\r\n          <div className='col-md-6 position-relative mb-2'>\r\n            <label>Etat Matrimonial</label>\r\n            <select\r\n              className='form-control'\r\n              {...register(\"statut_matrimonial\")}\r\n            >\r\n              <option value=''>Choisir une option</option>\r\n              <option value={\"Célibataire\"}>Célibataire</option>\r\n              <option value={\"Marié (e)\"}>Marié (e)</option>\r\n              <option value={\"Divocé (e)\"}>Divocé (e)</option>\r\n              <option value={\"Union Libre\"}>Union Libre</option>\r\n            </select>\r\n\r\n            <span className='errors-field'>\r\n              {errors.statut_matrimonial?.message?.toString()}\r\n            </span>\r\n          </div>\r\n\r\n          <div className='col-md-6 position-relative mb-2'>\r\n            <label>Entrer le NIF</label>\r\n            <input\r\n              className='form-control '\r\n              {...register(\"nif\")}\r\n              placeholder='+9494-939-0'\r\n            />\r\n\r\n            <input\r\n              type='hidden'\r\n              value='233232-323'\r\n              className='form-control '\r\n              {...register(\"cin\")}\r\n            />\r\n\r\n            <span className='errors-field'>\r\n              {errors.nif?.message?.toString()}\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        <SubmitButtom message={\"Soumettre\"} loading={isLoading} />\r\n        <button\r\n          onClick={() => reset()}\r\n          className='btn btn-danger'\r\n          style={{ fontWeight: \"bold\", marginLeft: \"6px\" }}\r\n        >\r\n          Annuler\r\n        </button>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { AppTitle } from \"../../components/partials/AppTitle\";\r\nimport { CreateStudentsForm } from \"../../components/students/CreateStudentsForm\";\r\n\r\nexport const CreateStudents = () => {\r\n  return (\r\n    <>\r\n      <AppTitle title={\"Ajouter un (e) étudiant (e)\"} img={\"users\"} />\r\n      <div className='bg-white'>\r\n        <div className='col-md-12 p-2'>\r\n          <CreateStudentsForm />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","// shema validation\r\nimport * as yup from \"yup\";\r\n// set the current date andconst maxDate = new Date();\r\nconst maxDate = new Date();\r\nmaxDate.setFullYear(maxDate.getFullYear() - 18);\r\n\r\nconst CreateAndEditShemaStudents = yup.object().shape({\r\n  nom: yup.string().required(\"Ce champ est obligatoire !\"),\r\n  prenom: yup.string().required(\"Ce champ est obligatoire !\"),\r\n  sexe: yup.string().required(\"Ce champ est obligatoire !\"),\r\n  email: yup\r\n    .string()\r\n    .email(\"L'email est invalide\")\r\n    .required(\"Ce champ est obligatoire !\"),\r\n  telephone: yup.string().required(\"Ce champ est obligatoire !\"),\r\n  date_naissance: yup\r\n    .date()\r\n    .typeError(\"Cette date est invalide\")\r\n    .required(\"Cette date n'est pas valide!\")\r\n    .max(maxDate, \"Vous devez avoir au moins 18 ans\"),\r\n  lieu_naissance: yup.string().required(\"Ce champ est obligatoire !\"),\r\n  groupe_sanguin: yup.string().required(\"Ce champ est obligatoire !\"),\r\n  statut_matrimonial: yup.string().required(\"Ce champ est obligatoire !\"),\r\n  nif: yup.string().required(\"Ce champ est obligatoire !\"),\r\n});\r\n\r\nexport default CreateAndEditShemaStudents;\r\n"],"names":["CreateStudentsForm","useForm","resolver","yupResolver","CreateAndEditShemaStudents","register","handleSubmit","reset","errors","formState","navigate","useNavigate","queryClient","useQueryClient","students","useQuery","StudentKey","GetStudents","data","useMutation","values","AddStudents","response","onMutate","result","setQueryData","onSuccess","Toast","invalidateQueries","person","uuid","isLoading","mutate","error","isError","err","isSuccess","onSubmit","Alert","variant","severity","className","message","placeholder","nom","toString","prenom","value","sexe","email","telephone","type","date_naissance","lieu_naissance","groupe_sanguin","statut_matrimonial","nif","SubmitButtom","loading","onClick","style","fontWeight","marginLeft","CreateStudents","AppTitle","title","img","maxDate","Date","setFullYear","getFullYear","yup","shape","required","typeError","max"],"sourceRoot":""}