"use strict";(self.webpackChunkujep=self.webpackChunkujep||[]).push([[777],{3777:function(e,s,r){r.r(s),r.d(s,{CreateUsers:function(){return g}});r(2791);var i=r(5699),a=r(1413),l=r(4165),n=r(5861),o=r(3975),t=r(7245),c=r(4570),d=r(1134),m=r(2879),u=r(232),p=r(6403),h=r(3418),v=r(7689),j=r(4277),x=r(184),f=function(){var e,s,r,i,f,g,N,b,Z,w,_=(0,d.cI)({resolver:(0,m.X)(u.Z)}),S=_.register,C=_.handleSubmit,k=_.reset,q=_.formState.errors,y=(0,v.s0)(),E=(0,p.NL)(),L=(0,h.D)(function(){var e=(0,n.Z)((0,l.Z)().mark((function e(s){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,t.cn)(s);case 2:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}(),{onMutate:function(e){},onSuccess:function(e,s,r){(0,c.F)("success","Facult\xe9 enregistr\xe9 avec succ\xe8s"),E.invalidateQueries([j.BN]),k(),y("/dashbord/users")}}),F=L.isLoading,R=L.mutate;L.error,L.isError,L.isSuccess;return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("form",{onSubmit:C((function(e){var s={email:e.email,username:e.username,password:e.password,role_name:e.role_name};R(s)})),children:[(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"col-md-6 position-relative mb-2",children:[(0,x.jsx)("label",{children:"Entrer l'email"}),(0,x.jsx)("input",(0,a.Z)((0,a.Z)({},S("email")),{},{className:"form-control",placeholder:"contact@ujep.edu.ht"})),(0,x.jsx)("span",{className:"errors-field",children:null===(e=q.email)||void 0===e||null===(s=e.message)||void 0===s?void 0:s.toString()})]}),(0,x.jsxs)("div",{className:"col-md-6 position-relative mb-2",children:[(0,x.jsx)("label",{children:"Entrer le nom d'utilisateur"}),(0,x.jsx)("input",(0,a.Z)((0,a.Z)({},S("username")),{},{className:"form-control ",placeholder:"@jacky"})),(0,x.jsx)("span",{className:"errors-field",children:null===(r=q.username)||void 0===r||null===(i=r.message)||void 0===i?void 0:i.toString()})]})]}),(0,x.jsx)("div",{className:"row",children:(0,x.jsxs)("div",{className:"col-md-12 position-relative mb-2",children:[(0,x.jsx)("label",{children:"Choisir un role"}),(0,x.jsxs)("select",(0,a.Z)((0,a.Z)({className:"form-control"},S("role_name")),{},{children:[(0,x.jsx)("option",{value:"",children:"Choisir une option"}),(0,x.jsx)("option",{value:"user",children:"Utilisateur"}),(0,x.jsx)("option",{value:"admin",children:"Administrateur"})]})),(0,x.jsx)("span",{className:"errors-field",children:null===(f=q.role_name)||void 0===f||null===(g=f.message)||void 0===g?void 0:g.toString()})]})}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"col-md-6 position-relative mb-2",children:[(0,x.jsx)("label",{children:"Entrer le mot de passe"}),(0,x.jsx)("input",(0,a.Z)((0,a.Z)({},S("password")),{},{type:"password",className:"form-control ",placeholder:"Entrer le mot de passe"})),(0,x.jsx)("span",{className:"errors-field",children:null===(N=q.password)||void 0===N||null===(b=N.message)||void 0===b?void 0:b.toString()})]}),(0,x.jsxs)("div",{className:"col-md-6 position-relative mb-2",children:[(0,x.jsx)("label",{children:"R\xe9p\xe9ter le mot de passe"}),(0,x.jsx)("input",(0,a.Z)((0,a.Z)({},S("password_confirm")),{},{type:"password",className:"form-control ",placeholder:"R\xe9p\xe9ter le mot de passe"})),(0,x.jsx)("span",{className:"errors-field",children:null===(Z=q.password_confirm)||void 0===Z||null===(w=Z.message)||void 0===w?void 0:w.toString()})]})]}),(0,x.jsx)(o.Z,{message:"Soumettre",loading:F})]})})},g=function(){return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(i.d,{title:"Ajouter un utilisateur",img:"users"}),(0,x.jsx)("div",{className:"bg-white",children:(0,x.jsx)("div",{className:"col-md-12 p-2",children:(0,x.jsx)(f,{})})})]})}},232:function(e,s,r){var i=r(1724),a=i.Ry().shape({email:i.Z_().email("L'email est invalide").required("Ce champ est obligatoire !"),username:i.Z_().required("Ce champ est obligatoire !"),role_name:i.Z_().required("Ce champ est obligatoire !"),password:i.Z_().required("Ce champ est obligatoire !").matches(/^(?=.{8,})/,"Le mot de passe doit contenir au moins 8 caract\xe8res"),password_confirm:i.Z_().required("Ce champ est obligatoire !").oneOf([i.iH("password"),null],"Les mots de passe ne sont pas iddentiques")});s.Z=a}}]);
//# sourceMappingURL=777.4aac0d24.chunk.js.map