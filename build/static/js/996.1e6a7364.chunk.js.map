{"version":3,"file":"static/js/996.1e6a7364.chunk.js","mappings":"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","sources":["actions/FacultyActions.ts","components/faculties/Ui/FacultyLoading.tsx","components/faculties/Ui/DeleteFaculty.tsx","components/faculties/Ui/FacultyButtomAction.tsx","components/faculties/FacultyListItem.tsx","components/faculties/Ui/FacultySearchBar.tsx","components/faculties/FacultyList.tsx","pages/faculties/Faculties.tsx","redux/hooks/hooks.ts"],"sourcesContent":["import axios from \"axios\";\r\nconst queryKey = \"faculties\";\r\n\r\nexport const GetFaculties = () => {\r\n  return axios.get(\"/faculte\").then((res) => res.data);\r\n};\r\n\r\nexport const CreateFaculty = (values: any) => {\r\n  return axios.post(\"/faculte\", values).then((res) => res.data);\r\n};\r\n\r\nexport const DeleteFaculty = (values: any) => {\r\n  return axios.delete(`/faculte/${values.id}`).then((res) => res.data);\r\n};\r\n\r\nexport const GetFaculty = (id: any) => {\r\n  return axios.get(`/faculte/${id}`).then((res) => res.data);\r\n};\r\n\r\n// updata faculty\r\nexport const UpdateFaculty = (values: any, id: number) => {\r\n  return axios.patch(`/faculte/${id}`, values).then((res) => res.data);\r\n};\r\n","import React from \"react\";\r\nimport { Audio } from \"react-loader-spinner\";\r\nexport const FacultyLoading = () => {\r\n  return (\r\n    <>\r\n      <center>\r\n        <p style={{ padding: \"10px\" }}>\r\n          <Audio\r\n            height='90'\r\n            width='90'\r\n            color='#7d56c2'\r\n            ariaLabel='audio-loading'\r\n            wrapperClass='wrapper-class'\r\n            wrapperStyle={{ display: \"block\" }}\r\n            visible={true}\r\n          />\r\n          <h6>Chargment en cours...</h6>\r\n        </p>\r\n      </center>\r\n    </>\r\n  );\r\n};\r\n","import { ExclamationCircleFilled } from \"@ant-design/icons\";\r\nimport {\r\n  QueryClient,\r\n  useMutation,\r\n  useQuery,\r\n  useQueryClient,\r\n} from \"@tanstack/react-query\";\r\nimport { Button, Modal } from \"antd\";\r\nimport { useState } from \"react\";\r\nimport { getFaculties } from \"../../../redux/FacultySlice\";\r\nimport { useAppDispatch, useAppSelector } from \"../../../redux/hooks/hooks\";\r\nimport { FacultyKey } from \"../../../ultils/keys\";\r\nimport { Toast } from \"../../layout/Toast\";\r\nimport {\r\n  CreateFaculty,\r\n  GetFaculties,\r\n  DeleteFaculty as deleteFac,\r\n} from \"./../../../actions/FacultyActions\";\r\n\r\nexport const DeleteFaculty = ({ faculty }: any) => {\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const facultyState: any = useAppSelector((state) => state.faculty);\r\n  const dispatch = useAppDispatch();\r\n  // initialize query client\r\n  const queryClient = useQueryClient();\r\n\r\n  // mutaion\r\n  const { isLoading, mutate } = useMutation(\r\n    async (values: any) => {\r\n      await deleteFac(values);\r\n      // return values;\r\n    },\r\n    {\r\n      onMutate: async (result) => {\r\n        //Update the cache with the new user\r\n        return facultyState.faculties.filter(\r\n          (fac: any) => fac.id !== result.id\r\n        );\r\n      },\r\n      onSuccess: async (result, variables, context) => {\r\n        await dispatch(getFaculties(context));\r\n        await queryClient.invalidateQueries([FacultyKey]);\r\n        setIsModalOpen(false);\r\n        Toast(\"success\", \"Faculté enregistré avec succès\");\r\n      },\r\n      onError: (error, variables, context) => {\r\n        setIsModalOpen(false);\r\n        Toast(\"error\", \"Probleme lors de la suppresion\");\r\n      },\r\n    }\r\n  );\r\n\r\n  const showModal = () => {\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  const handleOk = () => {\r\n    mutate(faculty);\r\n    //setIsModalOpen(false);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setIsModalOpen(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <span\r\n        className='dropdown-item'\r\n        onClick={showModal}\r\n        style={{ cursor: \"pointer\" }}\r\n      >\r\n        <i className='fa fa-trash'></i> Delete\r\n      </span>\r\n\r\n      <Modal\r\n        width={450}\r\n        title={\r\n          <>\r\n            <ExclamationCircleFilled />\r\n            &nbsp; Voulez vous vraiment supprimer\r\n          </>\r\n        }\r\n        open={isModalOpen}\r\n        onOk={handleOk}\r\n        onCancel={handleCancel}\r\n        footer={[\r\n          <Button key='back' onClick={handleCancel}>\r\n            Non\r\n          </Button>,\r\n          <Button\r\n            key='Oui'\r\n            type='primary'\r\n            loading={isLoading}\r\n            onClick={handleOk}\r\n          >\r\n            Oui\r\n          </Button>,\r\n        ]}\r\n      >\r\n        <p>{faculty.nom_faculte}</p>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { DeleteFaculty } from \"./DeleteFaculty\";\r\n\r\nexport const FacultyButtomAction = ({ faculty }: any) => {\r\n  return (\r\n    <>\r\n      <div className='dropdown float-end'>\r\n        <span\r\n          style={{ cursor: \"pointer\" }}\r\n          className='dropdown-toggle card-drop arrow-none'\r\n          data-bs-toggle='dropdown'\r\n          aria-expanded='false'\r\n        >\r\n          <i className='fa fa-grip-vertical m-0 text-muted h3' />\r\n        </span>\r\n        <div className='dropdown-menu dropdown-menu-end'>\r\n          <Link\r\n            className='dropdown-item'\r\n            to={`/dashbord/faculty/edit/${faculty.id}`}\r\n          >\r\n            <i className='fa fa-edit'></i> Modifier\r\n          </Link>\r\n\r\n          {/* <EditFaculty faculty={faculty} /> */}\r\n          <DeleteFaculty faculty={faculty} />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport const FacultyListItem = ({ faculty }: any) => {\r\n  return (\r\n    <>\r\n      <Link to={`/dashbord/faculty/${faculty.id}`}>\r\n        <h5 className='mt-0'>\r\n          <span className='text-dark bold'>{faculty.nom_faculte}</span>\r\n        </h5>\r\n      </Link>\r\n      <p className='text-muted text-uppercase'>\r\n        <i className='fa fa-account-circle' /> <small>{faculty.degree}</small>\r\n      </p>\r\n      <div className='badge bg-soft-success text-success mb-3'>Finished</div>\r\n      {/* Desc*/}\r\n      <p\r\n        className='text-muted font-13 mb-3 sp-line-2'\r\n        style={{ height: \"20px\" }}\r\n      >\r\n        {faculty.description}\r\n      </p>\r\n\r\n      {/* <p className='mb-1'>\r\n        <span className='pe-2 text-nowrap mb-2 d-inline-block'>\r\n          <i className='mdi mdi-format-list-bulleted-type text-muted' />\r\n          <b>78</b> Tasks\r\n        </span>\r\n        <span className='text-nowrap mb-2 d-inline-block'>\r\n          <i className='mdi mdi-comment-multiple-outline text-muted' />\r\n          <b>214</b> Comments\r\n        </span>\r\n      </p> */}\r\n    </>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nexport const FacultySearBar = () => {\r\n  return (\r\n    <>\r\n      <div className='col-8'>\r\n        <form>\r\n          <div className='mb-2'>\r\n            <label htmlFor='inputPassword2' className='visually-hidden'>\r\n              Search\r\n            </label>\r\n            <input\r\n              type='search'\r\n              className='form-control'\r\n              id='inputPassword2'\r\n              placeholder='Search...'\r\n            />\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","import { Link } from \"react-router-dom\";\r\nimport { GetFaculties } from \"../../actions/FacultyActions\";\r\nimport { FacultyLoading } from \"./Ui/FacultyLoading\";\r\nimport { FacultyButtomAction } from \"./Ui/FacultyButtomAction\";\r\nimport { FacultyListItem } from \"./FacultyListItem\";\r\nimport { FacultySearBar } from \"./Ui/FacultySearchBar\";\r\nimport { Divider, Empty } from \"antd\";\r\nimport { useQuery } from \"@tanstack/react-query\";\r\nimport { FacultyKey } from \"./../../ultils/keys\";\r\n\r\nexport const FacultyList = () => {\r\n  // select faculties\r\n  const { data, isLoading } = useQuery([FacultyKey], GetFaculties);\r\n\r\n  return (\r\n    <>\r\n      {/* {isFetching && <p>Data is load here...</p>} */}\r\n      <div className='row  mb-2 p-2'>\r\n        {/* {student.total> 0 && <EmployeeSearchBar />} */}\r\n        <div className='col-md-6 col-sm-12'>\r\n          <FacultySearBar />\r\n        </div>\r\n        <div className='col-6 text-sm-end'>\r\n          <Link to='/dashbord/faculty/create'>\r\n            <button\r\n              type='button'\r\n              className='btn btn-primary bold'\r\n              data-bs-target='#custom-modal'\r\n            >\r\n              Ajouter faculté\r\n            </button>\r\n          </Link>\r\n        </div>\r\n        <Divider />\r\n      </div>\r\n\r\n      {data && data.length === 0 && (\r\n        <div className='row'>\r\n          {\" \"}\r\n          <Empty />\r\n        </div>\r\n      )}\r\n      <div className='row m-1'>\r\n        {isLoading ? (\r\n          <FacultyLoading />\r\n        ) : (\r\n          <>\r\n            {data &&\r\n              data.map((faculty: any) => (\r\n                <div className='col-md-4'>\r\n                  <div className='card project-box'>\r\n                    <div className='card-body'>\r\n                      <FacultyButtomAction faculty={faculty} />\r\n                      <FacultyListItem faculty={faculty} />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n          </>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { FacultyList } from \"../../components/faculties/FacultyList\";\r\nimport { AppTitle } from \"../../components/partials/AppTitle\";\r\n\r\nexport const Faculties = () => {\r\n  return (\r\n    <>\r\n      <AppTitle title={\"Les facultes\"} img={\"users\"} />\r\n      <div className='bg-white'>\r\n        <FacultyList />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","import { useDispatch, useSelector } from \"react-redux\";\r\nimport type { TypedUseSelectorHook } from \"react-redux\";\r\nimport type { RootState, AppDispatch } from \"../store\";\r\n\r\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\r\nexport const useAppDispatch: () => AppDispatch = useDispatch;\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\r\n"],"names":["GetFaculties","axios","then","res","data","CreateFaculty","values","DeleteFaculty","id","GetFaculty","UpdateFaculty","FacultyLoading","style","padding","height","width","color","ariaLabel","wrapperClass","wrapperStyle","display","visible","faculty","useState","isModalOpen","setIsModalOpen","facultyState","useAppSelector","state","dispatch","useAppDispatch","queryClient","useQueryClient","useMutation","deleteFac","onMutate","result","faculties","filter","fac","onSuccess","variables","context","getFaculties","invalidateQueries","FacultyKey","Toast","onError","error","isLoading","mutate","handleOk","handleCancel","className","onClick","cursor","title","ExclamationCircleFilled","open","onOk","onCancel","footer","type","loading","nom_faculte","FacultyButtomAction","to","FacultyListItem","degree","description","FacultySearBar","htmlFor","placeholder","FacultyList","useQuery","length","map","Faculties","AppTitle","img","useDispatch","useSelector"],"sourceRoot":""}