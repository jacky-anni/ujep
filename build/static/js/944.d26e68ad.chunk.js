"use strict";(self.webpackChunkujep=self.webpackChunkujep||[]).push([[944],{8786:function(e,r,n){n.d(r,{LM:function(){return a},lj:function(){return t},lw:function(){return s},mG:function(){return l},vh:function(){return o}});var i=n(2388),t=function(){return i.Z.get("/faculte").then((function(e){return e.data}))},a=function(e){return i.Z.post("/faculte",e).then((function(e){return e.data}))},s=function(e){return i.Z.delete("/faculte/".concat(e.id)).then((function(e){return e.data}))},o=function(e){return i.Z.get("/faculte/".concat(e)).then((function(e){return e.data}))},l=function(e,r){return i.Z.patch("/faculte/".concat(r),e).then((function(e){return e.data}))}},3478:function(e,r,n){n.d(r,{H:function(){return a}});n(2791);var i=n(745),t=n(184),a=function(){return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("center",{children:(0,t.jsxs)("p",{style:{padding:"10px"},children:[(0,t.jsx)(i.Bb,{height:"90",width:"90",color:"#7d56c2",ariaLabel:"audio-loading",wrapperClass:"wrapper-class",wrapperStyle:{display:"block"},visible:!0}),(0,t.jsx)("h6",{children:"Chargment en cours..."})]})})})}},3944:function(e,r,n){n.r(r),n.d(r,{EditFaculty:function(){return y}});var i=n(2917),t=(n(2791),n(7689)),a=n(8786),s=n(1413),o=n(4165),l=n(5861),c=n(3975),u=n(1134),d=n(1724),m=d.Ry().shape({nom_faculte:d.Z_().required("Ce champ est obligatoire !"),degree:d.Z_().required("Ce champ est obligatoire !"),duree:d.Rx().typeError("vous devez sp\xe9cifier un nombre").min(1,"Valeur minimale 1").max(7,"Valeur maximale 7").required("Ce champ est obligatoire !"),note_de_passage:d.Rx().typeError("vous devez sp\xe9cifier un nombre").min(60,"Valeur minimale 60").max(100,"Valeur maximale 100").required("Ce champ est obligatoire !"),nombre_matiere:d.Rx().typeError("vous devez sp\xe9cifier un nombre").min(1,"Valeur minimale 1").required("Ce champ est obligatoire !"),description:d.Z_().required("Ce champ est obligatoire !").max(250,"Valeur maximale 100")}),p=n(2879),f=n(6403),v=n(3418),h=n(5039),x=n(4570),g=n(4277),j=n(184),b=function(e){var r,n,d,b,Z,N,_,y,C,E,S,w,L=e.faculty,k=(0,u.cI)({resolver:(0,p.X)(m),defaultValues:{nom_faculte:null===L||void 0===L?void 0:L.nom_faculte,degree:(null===L||void 0===L?void 0:L.degree.charAt(0).toUpperCase())+(null===L||void 0===L?void 0:L.degree.slice(1)),duree:null===L||void 0===L?void 0:L.duree,note_de_passage:null===L||void 0===L?void 0:L.note_de_passage,nombre_matiere:null===L||void 0===L?void 0:L.nombre_matiere,description:null===L||void 0===L?void 0:L.description}}),F=k.register,V=k.handleSubmit,q=k.reset,D=k.formState.errors,P=(0,f.NL)(),M=(0,i.a)([g.uP],a.lj).data,R=(0,t.s0)(),z=(0,v.D)(function(){var e=(0,l.Z)((0,o.Z)().mark((function e(r){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.mG)(r,L.id);case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),{onMutate:function(e){return P.setQueryData([g.uP],(function(){return M.map((function(r){return r.id===e.id?e:r}))}))},onSuccess:function(e){(0,x.F)("success","Facult\xe9 enregistr\xe9 avec succ\xe8s"),P.invalidateQueries([g.uP]),R("/dashbord/faculty/".concat(L.id))}}),U=z.isLoading,A=z.mutate,G=(z.error,z.isError);return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("form",{onSubmit:V((function(e){A(e)})),children:[G&&(0,j.jsx)(h.Z,{variant:"filled",severity:"error",className:"mb-3",children:"Une erreur s\u2019est produite lors de la modification de cette facult\xe9"}),(0,j.jsxs)("div",{className:"row",children:[(0,j.jsxs)("div",{className:"col-md-6 position-relative mb-2",children:[(0,j.jsx)("label",{children:"Entrer le nom faculte"}),(0,j.jsx)("input",(0,s.Z)((0,s.Z)({},F("nom_faculte")),{},{className:"form-control"})),(0,j.jsx)("span",{className:"errors-field",children:null===(r=D.nom_faculte)||void 0===r||null===(n=r.message)||void 0===n?void 0:n.toString()})]}),(0,j.jsxs)("div",{className:"col-md-6 position-relative mb-2",children:[(0,j.jsx)("label",{children:"Entrer le niveau"}),(0,j.jsxs)("select",(0,s.Z)((0,s.Z)({},F("degree")),{},{className:"form-control",children:[(0,j.jsx)("option",{value:"",children:"Choisir une option"}),(0,j.jsx)("option",{value:"Certificat",children:"Certificat"}),(0,j.jsx)("option",{value:"Licence",children:"Licence"}),(0,j.jsx)("option",{value:"Maitrise",children:"Maitrise"}),(0,j.jsx)("option",{value:"Doctorat",children:"Doctorat"}),(0,j.jsx)("option",{value:"Post Doctorat",children:"Post Doctorat"})]})),(0,j.jsx)("span",{className:"errors-field",children:null===(d=D.degree)||void 0===d||null===(b=d.message)||void 0===b?void 0:b.toString()})]}),(0,j.jsxs)("div",{className:"col-md-6 position-relative mb-2",children:[(0,j.jsx)("label",{children:"Entrer la duree"}),(0,j.jsx)("input",(0,s.Z)((0,s.Z)({},F("duree")),{},{className:"form-control",type:"number"})),(0,j.jsx)("span",{className:"errors-field",children:null===(Z=D.duree)||void 0===Z||null===(N=Z.message)||void 0===N?void 0:N.toString()})]}),(0,j.jsxs)("div",{className:"col-md-6 position-relative mb-2",children:[(0,j.jsx)("label",{children:"Entrer la note de passage"}),(0,j.jsx)("input",(0,s.Z)((0,s.Z)({},F("note_de_passage")),{},{className:"form-control",type:"number"})),(0,j.jsx)("span",{className:"errors-field",children:null===(_=D.note_de_passage)||void 0===_||null===(y=_.message)||void 0===y?void 0:y.toString()})]}),(0,j.jsxs)("div",{className:"col-md-12 position-relative mb-2",children:[(0,j.jsx)("label",{children:"Entrer la nombre de matiere"}),(0,j.jsx)("input",(0,s.Z)((0,s.Z)({},F("nombre_matiere")),{},{className:"form-control",type:"number"})),(0,j.jsx)("span",{className:"errors-field",children:null===(C=D.nombre_matiere)||void 0===C||null===(E=C.message)||void 0===E?void 0:E.toString()})]}),(0,j.jsxs)("div",{className:"col-md-12 position-relative mb-2",children:[(0,j.jsx)("label",{children:"Entrer la description"}),(0,j.jsx)("textarea",(0,s.Z)((0,s.Z)({},F("description")),{},{className:"form-control"})),(0,j.jsx)("span",{className:"errors-field",children:null===(S=D.description)||void 0===S||null===(w=S.message)||void 0===w?void 0:w.toString()})]})]}),(0,j.jsx)(c.Z,{message:"Soumettre",loading:U}),(0,j.jsx)("button",{onClick:function(){return q()},className:"btn btn-danger",style:{fontWeight:"bold",marginLeft:"6px"},children:"Annuler"})]})})},Z=n(3478),N=n(5699),_=n(9375),y=function(){var e=(0,t.UO)().idFaculty,r=(0,i.a)([g.uP,e],(function(){return(0,a.vh)(e)}),{cacheTime:0}),n=r.data,s=r.isLoading,o=r.isError,l=r.error;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(N.d,{title:"Modifier cette facult\xe9",img:"users"}),(0,j.jsx)("div",{className:"bg-white",children:(0,j.jsx)("div",{className:"col-md-12 p-2",children:s?(0,j.jsx)(Z.H,{}):o?(0,j.jsx)(_.K,{message:l.response.data.message}):(0,j.jsx)(b,{faculty:n})})})]})}}}]);
//# sourceMappingURL=944.d26e68ad.chunk.js.map