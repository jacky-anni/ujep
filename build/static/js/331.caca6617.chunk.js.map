{"version":3,"file":"static/js/331.caca6617.chunk.js","mappings":"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","sources":["actions/FacultyActions.ts","components/faculties/Ui/CreateFacultyForm.tsx","pages/faculties/CreateFaculty.tsx","shemaForms/account/SignupSchema.ts"],"sourcesContent":["import axios from \"axios\";\r\nconst queryKey = \"faculties\";\r\n\r\nexport const GetFaculties = () => {\r\n  return axios.get(\"/faculte\").then((res) => res.data);\r\n};\r\n\r\nexport const CreateFaculty = (values: any) => {\r\n  return axios.post(\"/faculte\", values).then((res) => res.data);\r\n};\r\n\r\nexport const DeleteFaculty = (values: any) => {\r\n  return axios.delete(`/faculte/${values.id}`).then((res) => res.data);\r\n};\r\n\r\nexport const GetFaculty = (id: any) => {\r\n  return axios.get(`/faculte/${id}`).then((res) => res.data);\r\n};\r\n\r\n// updata faculty\r\nexport const UpdateFaculty = (values: any, id: number) => {\r\n  return axios.patch(`/faculte/${id}`, values).then((res) => res.data);\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport SubmitButtom from \"../../Ui/form/SubmitButtom\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport validationSchema from \"../../../shemaForms/ShemaFaculty\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport { CreateFaculty } from \"../../../actions/FacultyActions\";\r\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\r\nimport { Alert } from \"@mui/material\";\r\nimport { Toast } from \"../../layout/Toast\";\r\nimport { FacultyKey } from \"./../../../ultils/keys\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport SignupSchema from \"../../../shemaForms/account/SignupSchema\";\r\n\r\nexport const CreateFacultyForm = () => {\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    reset,\r\n    formState: { errors },\r\n  } = useForm({\r\n    resolver: yupResolver(SignupSchema),\r\n  });\r\n  // initialize query client\r\n  const queryClient = useQueryClient();\r\n  // create navigate\r\n  const navigate = useNavigate();\r\n  const data: any = queryClient.getQueryData([FacultyKey]);\r\n  // create mutation\r\n  const { isLoading, mutate, error, isError, isSuccess } = useMutation(\r\n    async (values) => {\r\n      await CreateFaculty(values);\r\n    },\r\n    {\r\n      onMutate: (result) => {\r\n        //Update the cache with the new user\r\n        queryClient.setQueryData([FacultyKey], () => [result, ...data]);\r\n      },\r\n      onSuccess: (result, variables, context) => {\r\n        Toast(\"success\", \"Faculté enregistré avec succès\");\r\n        queryClient.invalidateQueries([FacultyKey]);\r\n        reset();\r\n        navigate(\"/dashbord/faculties\");\r\n      },\r\n    }\r\n  );\r\n\r\n  // define error\r\n  const err: any = error;\r\n  // submit form\r\n  const onSubmit = (data: any) => {\r\n    mutate(data);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <form onSubmit={handleSubmit(onSubmit)}>\r\n        {isError && (\r\n          <Alert variant='filled' severity='error' className='mb-3'>\r\n            {err.response.data.message}\r\n          </Alert>\r\n        )}\r\n        <div className='row'>\r\n          <div className='col-md-6 position-relative mb-2'>\r\n            <label>Entrer le nom faculté</label>\r\n            <input {...register(\"nom_faculte\")} className='form-control' />\r\n\r\n            <span className='errors-field'>\r\n              {errors.nom_faculte?.message?.toString()}\r\n            </span>\r\n          </div>\r\n\r\n          <div className='col-md-6 position-relative mb-2'>\r\n            <label>Entrer le niveau</label>\r\n            <select {...register(\"degree\")} className='form-control'>\r\n              <option value=''>Choisir une option</option>\r\n              <option value='Certificat'>Certificat</option>\r\n              <option value='Licence'>Licence</option>\r\n              <option value='Maitrise'>Maitrise</option>\r\n              <option value='Doctorat'>Doctorat</option>\r\n              <option value='Post Doctorat'>Post Doctorat</option>\r\n            </select>\r\n            <span className='errors-field'>\r\n              {errors.degree?.message?.toString()}\r\n            </span>\r\n          </div>\r\n\r\n          <div className='col-md-6 position-relative mb-2'>\r\n            <label>Entrer la duree</label>\r\n            <input\r\n              {...register(\"duree\")}\r\n              className='form-control'\r\n              type='number'\r\n            />\r\n            <span className='errors-field'>\r\n              {errors.duree?.message?.toString()}\r\n            </span>\r\n          </div>\r\n\r\n          <div className='col-md-6 position-relative mb-2'>\r\n            <label>Entrer la note de passage</label>\r\n            <input\r\n              {...register(\"note_de_passage\")}\r\n              className='form-control'\r\n              type='number'\r\n            />\r\n            <span className='errors-field'>\r\n              {errors.note_de_passage?.message?.toString()}\r\n            </span>\r\n          </div>\r\n\r\n          <div className='col-md-12 position-relative mb-2'>\r\n            <label>Entrer la nombre de matiere</label>\r\n            <input\r\n              {...register(\"nombre_matiere\")}\r\n              className='form-control'\r\n              type='number'\r\n            />\r\n            <span className='errors-field'>\r\n              {errors.nombre_matiere?.message?.toString()}\r\n            </span>\r\n          </div>\r\n\r\n          <div className='col-md-12 position-relative mb-2'>\r\n            <label>Entrer la description</label>\r\n            <textarea\r\n              {...register(\"description\")}\r\n              className='form-control'\r\n            ></textarea>\r\n            <span className='errors-field'>\r\n              {errors.description?.message?.toString()}\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <SubmitButtom message={\"Soumettre\"} loading={isLoading} />\r\n        <button\r\n          onClick={() => reset()}\r\n          className='btn btn-danger'\r\n          style={{ fontWeight: \"bold\", marginLeft: \"6px\" }}\r\n        >\r\n          Annuler\r\n        </button>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { AppTitle } from \"../../components/partials/AppTitle\";\r\nimport { CreateFacultyForm } from \"./../../components/faculties/Ui/CreateFacultyForm\";\r\n\r\nexport const CreateFaculty = () => {\r\n  return (\r\n    <>\r\n      <AppTitle title={\"Ajouter une faculté\"} img={\"users\"} />\r\n      <div className='bg-white'>\r\n        <div className='col-md-12 p-2'>\r\n          <CreateFacultyForm />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","import * as yup from \"yup\";\r\n// shema validation\r\nconst SignupSchema = yup.object().shape({\r\n  email: yup\r\n    .string()\r\n    .email(\"L'email est invalide\")\r\n    .required(\"Ce champ est obligatoire !\"),\r\n  username: yup.string().required(\"Ce champ est obligatoire !\"),\r\n  role_name: yup.string().required(\"Ce champ est obligatoire !\"),\r\n  password: yup\r\n    .string()\r\n    .required(\"Ce champ est obligatoire !\")\r\n    .matches(\r\n      /^(?=.{8,})/,\r\n      \"Le mot de passe doit contenir au moins 8 caractères\"\r\n    ),\r\n  password_confirm: yup\r\n    .string()\r\n    .required(\"Ce champ est obligatoire !\")\r\n    .oneOf(\r\n      [yup.ref(\"password\"), null],\r\n      \"Les mots de passe ne sont pas iddentiques\"\r\n    ),\r\n});\r\n\r\nexport default SignupSchema;\r\n"],"names":["GetFaculties","axios","then","res","data","CreateFaculty","values","DeleteFaculty","id","GetFaculty","UpdateFaculty","CreateFacultyForm","useForm","resolver","yupResolver","SignupSchema","register","handleSubmit","reset","errors","formState","queryClient","useQueryClient","navigate","useNavigate","getQueryData","FacultyKey","useMutation","onMutate","result","setQueryData","onSuccess","variables","context","Toast","invalidateQueries","isLoading","mutate","error","isError","err","isSuccess","onSubmit","Alert","variant","severity","className","response","message","nom_faculte","toString","value","degree","type","duree","note_de_passage","nombre_matiere","description","SubmitButtom","loading","onClick","style","fontWeight","marginLeft","AppTitle","title","img","yup","shape","email","required","username","role_name","password","matches","password_confirm","oneOf"],"sourceRoot":""}